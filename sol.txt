console.log("main process");

const electron = require("electron");

const app = electron.app;
const ipc = electron.ipcMain;
const dialog = electron.dialog;

const BrowserWindow = electron.BrowserWindow;

const path = require("path");
const url = require("url");

let win;
function createWindow() {
  win = new BrowserWindow({
    width: 800,
    height: 600,
    webPreferences: { nodeIntegration: true, contextIsolation: false },
  });

  win.loadURL(
    url.format({
      pathname: path.join(__dirname, "index.html"),
      protocol: "file",
      slashes: true,
    })
  );
---------------------------------


const fs = require("fs");
const path = require("path");

btnCreate = document.getElementById("btnCreate");
btnRead = document.getElementById("btnRead");
btnDelete = document.getElementById("btnDelete");

fileName = document.getElementById("fileName");
fileContents = document.getElementById("fileContents");

let pathname = path.join(__dirname, "Files");
btnCreate.addEventListener("click", function () {
  let file = path.join(pathname, fileName.value);
  let contents = fileContents.value;
  fs.writeFile(file, contents, function (err) {
    if (err) {
      return console.log(err);
    }
    console.log("File is saved");
  });
});

btnRead.addEventListener('click', function(){
    let file=path.join(pathname,fileName.value)
    fs.readFile(file,function(err,data){
        fileContents.value=data
        console.log('The file was read');
        
    })
})
  win.webContents.openDevTools();

  win.on("closed", () => {
    win = null;
  });
}

ipc.on("open-error-dialog", function (event) {
  dialog.showErrorBox("Ann error message", "Demo of error app");
  event.sender.send('open-error-dialog','Main Process finised request')
});
app.on("ready", createWindow);
app.on("window-all-closed", () => {
  if (process.platform !== "darwin") {
    app.quit();
  }
});
app.on("activate", () => {
  if (win == null) {
    createWindow();
  }
});
